{{ define "main" }}

<body>
	<div id="app" class="jost">
		<div>
			<!---->
			<!---->
		</div>
		<section>
			<h1 class="text-8xl leading-snug my-16 mx-auto text-center brittany text-li">
				julianna
				<br>
				&
				<br>
				andrew
			</h1>
		</section>
		{{ partial "nav.html" }}
		<section class="bg-cover w-full bg-center max-w-7xl mx-auto"
			style="height: 720px; background-image: url(/img/engagement_photo.webp); background-position: top"
			alt="Andrew and Julianna standing together on a grassy hill shaded by oak trees.">
		</section>
		<div class="text-center brittany text-7xl my-16">please join us</div>
		<div class="text-center jost text-4xl my-6">for our wedding celebration</div>
		<div class="text-center jost text-7xl font-medium mt-14 mb-16">JULY 29, 2022</div>

		<section class="flex flex-col gap-4 p-8 max-w-6xl mx-auto" style="">
			<h2 class="brittany text-7xl text-center">venue</h2>
			<p>Ceremony & reception will both be at Hacienda de las Flores. Ceremony begins at 5pm.</p>
			<div class="flex">
				<a target="_blank"
					href="https://www.google.com/maps/place/Hacienda+De+Las+Flores+by+Wedgewood+Weddings/@37.851383,-122.127317,13z/data=!4m9!1m2!2m1!1sHacienda+de+las+flores;t%3Dm!3m5!1s0x808f89d283a097c7:0x3074d1131c0a1185!8m2!3d37.8521825!4d-122.126913!15sChpIYWNpZW5kYSBkZSBsYXMgZmxvcmVzO3Q9bVocIhpoYWNpZW5kYSBkZSBsYXMgZmxvcmVzIHQgbZIBDXdlZGRpbmdfdmVudWU?hl=en-US">
					<p class="text-2xl">Hacienda de las Flores</p>
					<p class="text-xl">2100 Donald Dr, Moraga, CA 94556</p>
				</a>
			</div>

			<div class="flex gap-8">
				<iframe class="flex-1"
					src="https://maps.google.com/maps?q=Hacienda%20de%20las%20flores;t=m&amp;z=13&amp;ie=UTF8&amp;output=embed"
					width="100%" height="400px"></iframe>
				<div class="flex-1 bg-cover" style="height: 400px; background-image:url(/img/venue_0.jpg)">
				</div>
			</div>
			<div class="bg-yellow-100 p-4 border-2 rounded-md border-yellow-200">
				<p>‚ö†Ô∏è TODO: Parking will be limited. There are 70 spots and roughly 120 different parties. We'll need to
					arrange some sort of guide for carpooling, shuttling,
					or ubering.</p>
			</div>
		</section>
		<section class="flex flex-col gap-4 p-8 max-w-7xl mx-auto" style="">
			<h2 class="brittany text-7xl text-center mb-8">lodging</h2>
			<div class="bg-yellow-100 p-4 border-2 rounded-md border-yellow-200">
				<p>‚ö†Ô∏è TODO: figure out if we need to get a hotel deal.</p>
			</div>
		</section>
		<section class="flex flex-col gap-4 p-8 max-w-7xl mx-auto" style="">
			<p id="countdown" class="text-3xl text-center">Only _ days _ hours _ minutes and _ seconds until the fun
				begins!
		</section>
		<div data-v-36aa22be="" class=" sentry">
		</div>
		<!---->
	</div>
</body>
<script>
	const countdownEl = document.getElementById("countdown");
	const MINUTE_IN_MS = 1000 * 60;
	const HOUR_IN_MS = 60 * MINUTE_IN_MS;
	const DAY_IN_MS = 24 * HOUR_IN_MS;
	const eventStartTime = 1659128700000;
	const eventEndTime = 1659157200000;
	const genCountdownString = () => {
		let currentTime = new Date().getTime();
		let countdownStr = "";
		if (eventEndTime < currentTime) {
			countdownStr = "The wedding may be over, but the fun has just begun!"
		} else if (eventStartTime < currentTime) {
			countdownStr = "THE WEDDING IS HAPPENING NOOOOOOW!!"
		} else {
			const delta = eventStartTime - currentTime;
			const days = Math.floor(delta / (DAY_IN_MS))
			const hours = Math.floor((delta - (days * DAY_IN_MS)) / HOUR_IN_MS)
			const minutes = Math.floor((delta - (days * DAY_IN_MS + hours * HOUR_IN_MS)) / MINUTE_IN_MS)
			const seconds = Math.floor((delta - (days * DAY_IN_MS + hours * HOUR_IN_MS + minutes * MINUTE_IN_MS)) / 1000)
			const timeSection = (amount, unit, preferComma = true) => {
				if (amount === 0) return false;
				if (amount !== 1) {
					unit += "s"
				}
				return `${amount} ${unit}`
			}
			let timeString = [
				timeSection(days, "day"),
				timeSection(hours, "hour"),
				timeSection(minutes, "minute"),
				timeSection(seconds, "second"),
			].filter(Boolean).join(", ");
			timeString = Array.from(timeString)
			const numCommas = timeString.filter(char => char === ",").length;
			if (numCommas >= 1) {
				timeString.splice(timeString.lastIndexOf(","), 1, `${numCommas > 1 ? "," : ""} and`);
			}
			timeString = timeString.join("");
			countdownStr = `üéâ Only ${timeString} until the wedding! üéâ`
		}
		countdownEl.textContent = countdownStr;
	}
	genCountdownString();
	setInterval(genCountdownString, 1000);

</script>
{{ end }}